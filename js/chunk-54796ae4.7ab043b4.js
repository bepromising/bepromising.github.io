(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54796ae4"],{"11e9":function(t,e,n){var r=n("52a7"),a=n("4630"),o=n("6821"),c=n("6a99"),i=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=o(t),e=c(e,!0),s)try{return u(t,e)}catch(n){}if(i(t,e))return a(!r.f.call(t,e),t[e])}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3b2b":function(t,e,n){var r=n("7726"),a=n("5dbc"),o=n("86cc").f,c=n("9093").f,i=n("aae3"),s=n("0bfb"),u=r.RegExp,l=u,p=u.prototype,f=/a/g,b=/a/g,d=new u(f)!==f;if(n("9e1e")&&(!d||n("79e5")(function(){return b[n("2b4c")("match")]=!1,u(f)!=f||u(b)==b||"/a/i"!=u(f,"i")}))){u=function(t,e){var n=this instanceof u,r=i(t),o=void 0===e;return!n&&r&&t.constructor===u&&o?t:a(d?new l(r&&!o?t.source:t,e):l((r=t instanceof u)?t.source:t,r&&o?s.call(t):e),n?this:p,u)};for(var g=function(t){t in u||o(u,t,{configurable:!0,get:function(){return l[t]},set:function(e){l[t]=e}})},h=c(l),v=0;h.length>v;)g(h[v++]);p.constructor=u,u.prototype=p,n("2aba")(r,"RegExp",u)}n("7a56")("RegExp")},"506c":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"subpage--main"},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("分析挖掘流程列表")]),n("EasyTable",{staticClass:"table",attrs:{table:t.table,border:"",stripe:""}})],1),n("Modal",{attrs:{width:"800",title:"运行日志","footer-hide":""},model:{value:t.jobDetailModal.isShown,callback:function(e){t.$set(t.jobDetailModal,"isShown",e)},expression:"jobDetailModal.isShown"}},[n("p",{domProps:{innerHTML:t._s(t.jobDetailModal.content)}})])],1)},a=[],o=(n("a481"),n("96cf"),n("3b8d")),c=n("bd86"),i=n("e069"),s=n("4a80"),u=n("c466"),l={error:"出错",runing:"正在运行",stop:"停止",success:"已完成"},p={components:{EasyTable:s["b"]},data:function(){var t,e=this;this.$createElement;return{jobDetailModal:{isShown:!1,content:""},OPTIONS_MAP:(t={},Object(c["a"])(t,l.runing,["停止"]),Object(c["a"])(t,l.error,["启动","删除"]),Object(c["a"])(t,l.stop,["启动","删除"]),Object(c["a"])(t,l.success,["启动","删除"]),t),table:Object(s["a"])({loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(n){var r,a,o,c,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=n.PAGE_SIZE,a=n.current,t.next=3,e.$api.kettle.listJobs.send({pageSize:r,pageNum:a});case 3:return o=t.sent,c=o.list,i=o.total,t.abrupt("return",{items:c,total:i});case 7:case"end":return t.stop()}},t)}));function n(e){return t.apply(this,arguments)}return n}(),COLUMNS:[{type:"expand",width:50,render:function(t,e){var n=e.row;return t(i["Timeline"],[n.componentStatus.map(function(e){return t(i["TimelineItem"],[t("p",{class:"time"},[e.execDate]),t("p",{class:"content"},[e.componentName," (",e.status,")"])])})])}},{title:"序号",type:"index",width:80,align:"center"},{title:"作业名称",key:"jName",align:"center",render:function(t,e){var n=e.row;return t("span",[n.jName.replace(/\.\w+$/,"")])}},{title:"作业状态",key:"status",align:"center"},{title:"业务类型",key:"businessType",align:"center"},{title:"执行方式",key:"excuteWay",align:"center"},{title:"执行时间",key:"createDate",align:"center",render:function(t,e){var n=e.row;return t("span",[Object(u["a"])(n.createDate)])}},{title:"执行进度",key:"progress",align:"center",render:function(t,e){var n,r=e.row;switch(r.status){case l.error:n="wrong";break;case l.success:n="success";break;default:n="active"}return t(i["Progress"],{attrs:{percent:r.progress,status:n}})}},{title:"作业操作",align:"center",render:function(t,n){var r=n.row,a=e.OPTIONS_MAP[r.status];return t("div",[-1!==a.indexOf("启动")?t(i["Button"],{attrs:{type:"success",size:"small"},style:"marginRight: 5px",on:{click:function(){return e.startJob(r)}}},["启动"]):null,-1!==a.indexOf("停止")?t(i["Button"],{attrs:{type:"primary",size:"small"},style:"marginRight: 5px",on:{click:function(){return e.stopJob(r)}}},["停止"]):null,-1!==a.indexOf("删除")?t(i["Button"],{attrs:{type:"error",size:"small"},on:{click:function(){return e.deleteJob(r)}}},["删除"]):null])}},{title:"运行日志",width:85,align:"center",render:function(t,n){return t(i["Button"],{attrs:{type:"primary",size:"small"},on:{click:function(){e.jobDetailModal={isShown:!0,content:n.row.jLog}}}},["详情"])}}]})}},created:function(){this.table.apply()},methods:{stopJob:function(t){var e=this,n=t.jId;this.$Modal.confirm({title:"系统提示",content:"您确定要停止此任务？",onOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.kettle.stopJob.send({jId:n});case 3:e.$Message.success("成功停止任务！");case 4:return t.prev=4,e.table.refresh(),t.finish(4);case 7:case"end":return t.stop()}},t,null,[[0,,4,7]])}));function r(){return t.apply(this,arguments)}return r}()})},startJob:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.jId,t.prev=1,t.next=4,this.$api.kettle.startJob.send({jId:n});case 4:this.$Message.success("成功启动！");case 5:return t.prev=5,this.table.refresh(),t.finish(5);case 8:case"end":return t.stop()}},t,this,[[1,,5,8]])}));function e(e){return t.apply(this,arguments)}return e}(),deleteJob:function(t){var e=this,n=t.jId;this.$Modal.confirm({title:"系统提示",content:"您确定要删除此任务？",onOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.kettle.deleteJob.send({jId:n});case 3:e.$Message.success("成功删除任务！");case 4:return t.prev=4,e.table.refresh(),t.finish(4);case 7:case"end":return t.stop()}},t,null,[[0,,4,7]])}));function r(){return t.apply(this,arguments)}return r}()})}}},f=p,b=n("2877"),d=Object(b["a"])(f,r,a,!1,null,null,null);e["default"]=d.exports},"5dbc":function(t,e,n){var r=n("d3f4"),a=n("8b97").set;t.exports=function(t,e,n){var o,c=e.constructor;return c!==n&&"function"==typeof c&&(o=c.prototype)!==n.prototype&&r(o)&&a&&a(t,o),t}},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),a=n("0bfb"),o=n("9e1e"),c="toString",i=/./[c],s=function(t){n("2aba")(RegExp.prototype,c,t,!0)};n("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?s(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?a.call(t):void 0)}):i.name!=c&&s(function(){return i.call(this)})},"7f29":function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o});n("28a5");var r=n("768b");n("6b54"),n("a481");function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=+t;var n=Math.pow(10,e);return t<1/n?+t.toPrecision(1):Math.round(t*n)/n}function o(t,e){var n=(t+"").split("."),a=Object(r["a"])(n,2),o=a[1],c=void 0===o?"":o,i=(e+"").split("."),s=Object(r["a"])(i,2),u=s[1],l=void 0===u?"":u,p=Math.pow(10,Math.max(c.length,l.length));return(t*p+e*p)/p}},"8b97":function(t,e,n){var r=n("d3f4"),a=n("cb7c"),o=function(t,e){if(a(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(a){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},9093:function(t,e,n){var r=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,a)}},c466:function(t,e,n){"use strict";n.d(e,"a",function(){return r});n("a745"),n("768b"),n("3b2b"),n("a481"),n("7f29");function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}}}]);
//# sourceMappingURL=chunk-54796ae4.7ab043b4.js.map